<%- include("header") -%>
  <script>
    function deleteList() {
      var answer = confirm("Are you sure you want to delete this list?");
      if (answer === true) {
        return true;
      } else {
        return false;
      }
    }
  </script>



  <div class="container text-center">
    <div class="row">
      <div class="col">
        <ul class="list-group">
          <li class="list-group-item active centeredText">
            <h2>
              <%= selectedListName %>
            </h2>
          </li>



          <% for (let i=0 ; i<selectedListItems.length; i++) {%>
            <li class="list-group-item btn-group">
              <div class="btn-group">
                <form action="/checkboxClick" method="post">
                  <% if (selectedListCheckboxes[i]==="checked" ) { %>               
                    <input type="hidden" name="checkboxStatus" value="<%= [i] %>">
                    <input class="form-check-input checkboxSize" checked type="checkbox" value="<%= [i] %>"
                       id="checkedButton" onchange="this.form.submit()">
                    <label class="form-check-label" for="checkedButton" id="selectedListLabel">                   
                      &nbsp;&nbsp;<del> <%= selectedListItems[i]%> </del>&nbsp;&nbsp;
                    </label>
                    <%}%>
                      <% if (selectedListCheckboxes[i]==="notChecked" ) { %>
                        <input class="form-check-input checkboxSize" type="checkbox" value="<%= [i] %>"
                          name="checkboxStatus" id="uncheckedButton" onchange="this.form.submit()">
                        <label class="form-check-label" for="uncheckedButton" id="selectedListLabel">
                          &nbsp;&nbsp;<%= selectedListItems[i]%> &nbsp;&nbsp;
                        </label>
                        <%}%>
                </form>
                <form action="/deleteItems" method="post">
                  <button type="submit" class="btn" name="deleteItems" value="<%= [i] %>"><i
                      class="fa fa-trash"></i></button>
                </form>
              </div>
            </li>
            <%};%>



              <li class="list-group-item ">
                <form action="/additems" method="post">
                  <div class="row">
                    <div class="col">
                      <input type="text" class="form-control input-lg" placeholder="Add New Item" name="newItem"
                        autocomplete="off">
                    </div>
                    <div class="">
                      <button type="submit" class="btn btn-primary">ADD</button>
                    </div>
                  </div>
                </form>
              </li>
        </ul>
      </div>
      <div class="col">
        <ul class="list-group">
          <li class="list-group-item active centeredText">
            <h2>Existing Lists</h2>
          </li>
          <% for(let i=0; i<allLists.length; i++) {%>
            <li class="list-group-item">
              <div class="btn-group">
                <form action="/selectingList" method="post">
                  <button type="submit" class="btn btn-dark text-center" name="selectedListNameButton"
                    value="<%= allLists[i].name %>">
                    <%= allLists[i].name %>
                  </button>

                </form>
                <form action="/deleteLists" method="post">
                  <button type="submit" class="btn ml-2 " onclick="return deleteList()" name="deleteLists"
                    value="<%= allLists[i].name %>"><i class="fa fa-trash"></i></button>
                </form>
              </div>
            </li>
            <%};%>
        </ul>
        <form action="/createNewList" method="post">
          <div class="row">
            <div class="col">
              <input type="text" class="form-control mt-4" placeholder="Your new List name" name="newListName"
                autocomplete="off">
            </div>
            <div class="">
              <button type="submit" class="btn btn-success mt-4">Create New List</button>
            </div>
          </div>
        </form>
      </div>
      <div class="w-100"></div>
    </div>
  </div>


  <%- include("footer") -%>